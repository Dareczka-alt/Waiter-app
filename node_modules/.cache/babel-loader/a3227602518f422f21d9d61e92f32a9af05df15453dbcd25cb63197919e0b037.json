{"ast":null,"code":"import _slicedToArray from\"C:/Users/asasa/OneDrive/Pulpit/waiter-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import clsx from'clsx';import styles from'./TableForm.module.scss';import MyInput from'./../MyInput/MyInput';import{requestTableParams}from'../../redux/tablesRedux';import{useState,useEffect}from'react';import{useDispatch}from'react-redux';import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";var TableForm=function TableForm(props){var id=props.tableId;var _useState=useState(props.status),_useState2=_slicedToArray(_useState,2),status=_useState2[0],setStatus=_useState2[1];var _useState3=useState(props.bill),_useState4=_slicedToArray(_useState3,2),bill=_useState4[0],setBill=_useState4[1];var _useState5=useState(props.peopleMax),_useState6=_slicedToArray(_useState5,2),peopleMax=_useState6[0],setPeopleMax=_useState6[1];var _useState7=useState(props.peopleSitting),_useState8=_slicedToArray(_useState7,2),peopleSitting=_useState8[0],setPeopleSitting=_useState8[1];var dispatch=useDispatch();var handleSubmit=function handleSubmit(e){e.preventDefault();dispatch(requestTableParams({id:id,status:status,peopleSitting:peopleSitting,peopleMax:peopleMax,bill:bill}));window.location.href=\"http://localhost:3000/\";};useEffect(function(){if(status===\"Free\"||status===\"Cleaning\"){setPeopleMax(0);setPeopleSitting(0);}if(status===\"Busy\"){setBill(0);}},[status]);useEffect(function(){if(peopleMax>10||peopleSitting<0){setPeopleMax(props.peopleMax);}if(peopleSitting>10||peopleSitting<0){setPeopleSitting(props.peopleSitting);}},[props,peopleSitting,peopleMax]);var otherForm=function otherForm(){return/*#__PURE__*/_jsxs(\"form\",{className:\"container\",onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"h1\",{className:styles.title,children:[\"Table \",\"\".concat(id)]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:styles.paramtitle,children:\"Status:\"}),/*#__PURE__*/_jsxs(\"select\",{className:styles.myselect,name:\"Status\",value:status,onChange:function onChange(e){return setStatus(e.target.value);},children:[/*#__PURE__*/_jsx(\"option\",{defaultValue:status,children:\"\".concat(props.status)}),/*#__PURE__*/_jsx(\"option\",{value:\"Busy\",children:\"Busy\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Free\",children:\"Free\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Cleaning\",children:\"Cleaning\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Reserved\",children:\"Reserved\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:styles.paramtitle,children:\"People:\"}),\" \",/*#__PURE__*/_jsx(MyInput,{value:peopleSitting,onChange:function onChange(e){return setPeopleSitting(e.target.value);}}),/*#__PURE__*/_jsx(\"span\",{className:clsx(styles.paramtitle,\"m-2\"),children:\"/\"}),/*#__PURE__*/_jsx(MyInput,{value:peopleMax,onChange:function onChange(e){return setPeopleMax(e.target.value);}})]}),/*#__PURE__*/_jsx(\"button\",{className:clsx(\"btn-default btn-lg mt-4\",styles.mybtn),children:\"Update\"})]});};if(status===\"Cleaning\"||status===\"Free\")return otherForm();else return/*#__PURE__*/_jsxs(\"form\",{className:\"container\",onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"h1\",{className:styles.title,children:[\"Table \",\"\".concat(id)]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:styles.paramtitle,children:\"Status:\"}),/*#__PURE__*/_jsxs(\"select\",{className:styles.myselect,name:\"Status\",value:status,onChange:function onChange(e){return setStatus(e.target.value);},children:[/*#__PURE__*/_jsx(\"option\",{defaultValue:status,children:\"\".concat(props.status)}),/*#__PURE__*/_jsx(\"option\",{value:\"Busy\",children:\"Busy\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Free\",children:\"Free\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Cleaning\",children:\"Cleaning\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Reserved\",children:\"Reserved\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:styles.paramtitle,children:\"People:\"}),\" \",/*#__PURE__*/_jsx(MyInput,{value:peopleSitting,onChange:function onChange(e){return setPeopleSitting(e.target.value);}}),/*#__PURE__*/_jsx(\"span\",{className:clsx(styles.paramtitle,\"m-2\"),children:\"/\"}),/*#__PURE__*/_jsx(MyInput,{value:peopleMax,onChange:function onChange(e){return setPeopleMax(e.target.value);}})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:styles.paramtitle,children:\"Bill:\"}),/*#__PURE__*/_jsx(\"span\",{className:clsx(styles.paramtitle,\"p-0, m-0\"),children:\"$\"}),\" \",/*#__PURE__*/_jsx(MyInput,{value:bill,onChange:function onChange(e){return setBill(e.target.value);}})]}),/*#__PURE__*/_jsx(\"button\",{className:clsx(\"btn-default btn-lg mt-4\",styles.mybtn),children:\"Update\"})]});};export default TableForm;","map":{"version":3,"names":["clsx","styles","MyInput","requestTableParams","useState","useEffect","useDispatch","jsxs","_jsxs","jsx","_jsx","TableForm","props","id","tableId","_useState","status","_useState2","_slicedToArray","setStatus","_useState3","bill","_useState4","setBill","_useState5","peopleMax","_useState6","setPeopleMax","_useState7","peopleSitting","_useState8","setPeopleSitting","dispatch","handleSubmit","e","preventDefault","window","location","href","otherForm","className","onSubmit","children","title","concat","paramtitle","myselect","name","value","onChange","target","defaultValue","mybtn"],"sources":["C:/Users/asasa/OneDrive/Pulpit/waiter-app/src/components/TableForm/TableForm.js"],"sourcesContent":["import clsx from 'clsx';\r\nimport styles from './TableForm.module.scss'\r\nimport MyInput from './../MyInput/MyInput';\r\nimport { requestTableParams } from '../../redux/tablesRedux';\r\nimport { useState, useEffect } from 'react';\r\nimport { useDispatch } from 'react-redux';\r\n\r\n\r\n\r\n\r\n\r\nconst TableForm = (props) => {\r\n  const id = props.tableId;\r\n  const [status, setStatus] = useState(props.status);\r\n  const [bill, setBill] = useState(props.bill);\r\n  const [peopleMax, setPeopleMax] = useState(props.peopleMax);\r\n  const [peopleSitting, setPeopleSitting] = useState(props.peopleSitting);\r\n\r\n\r\n  const dispatch = useDispatch();\r\n\r\n\r\n  const handleSubmit = e => {\r\n    e.preventDefault();\r\n    dispatch(requestTableParams({ id, status, peopleSitting, peopleMax, bill }));\r\n    window.location.href = \"http://localhost:3000/\";\r\n  }\r\n\r\n\r\n  useEffect(() => {\r\n    if (status === \"Free\" || status === \"Cleaning\") {\r\n      setPeopleMax(0);\r\n      setPeopleSitting(0)\r\n    }\r\n    if (status === \"Busy\") {\r\n      setBill(0)\r\n    }\r\n\r\n  }, [status]);\r\n\r\n  useEffect(() => {\r\n    if (peopleMax > 10 || peopleSitting < 0) {\r\n      setPeopleMax(props.peopleMax);\r\n\r\n    }\r\n    if (peopleSitting > 10 || peopleSitting < 0) {\r\n      setPeopleSitting(props.peopleSitting);\r\n\r\n    }\r\n  }, [props, peopleSitting, peopleMax]);\r\n\r\n  const otherForm = () => {\r\n    return (<form className=\"container\" onSubmit={handleSubmit}>\r\n      <h1 className={styles.title}>Table {`${id}`}</h1>\r\n\r\n      <div >\r\n        <label className={styles.paramtitle}>Status:</label>\r\n        <select className={styles.myselect} name=\"Status\" value={status} onChange={e => setStatus(e.target.value)}>\r\n          <option defaultValue={status}>{`${props.status}`}</option>\r\n          <option value=\"Busy\">Busy</option>\r\n          <option value=\"Free\">Free</option>\r\n          <option value=\"Cleaning\">Cleaning</option>\r\n          <option value=\"Reserved\">Reserved</option>\r\n        </select>\r\n      </div>\r\n      <div>\r\n        <label className={styles.paramtitle}>People:</label> <MyInput value={peopleSitting} onChange={e => setPeopleSitting(e.target.value)} />\r\n        <span className={clsx(styles.paramtitle, \"m-2\")}>/</span>\r\n        <MyInput value={peopleMax} onChange={e => setPeopleMax(e.target.value)} />\r\n      </div>\r\n      <button className={clsx(\"btn-default btn-lg mt-4\", styles.mybtn)}>Update</button>\r\n    </form >)\r\n  }\r\n\r\n  if (status === \"Cleaning\" || status === \"Free\")\r\n    return (otherForm())\r\n  else\r\n    return (\r\n      <form className=\"container\" onSubmit={handleSubmit}>\r\n        <h1 className={styles.title}>Table {`${id}`}</h1>\r\n\r\n        <div >\r\n          <label className={styles.paramtitle}>Status:</label>\r\n          <select className={styles.myselect} name=\"Status\" value={status} onChange={e => setStatus(e.target.value)}>\r\n            <option defaultValue={status}>{`${props.status}`}</option>\r\n            <option value=\"Busy\">Busy</option>\r\n            <option value=\"Free\">Free</option>\r\n            <option value=\"Cleaning\">Cleaning</option>\r\n            <option value=\"Reserved\">Reserved</option>\r\n          </select>\r\n        </div>\r\n        <div>\r\n          <label className={styles.paramtitle}>People:</label> <MyInput value={peopleSitting} onChange={e => setPeopleSitting(e.target.value)} />\r\n          <span className={clsx(styles.paramtitle, \"m-2\")}>/</span>\r\n          <MyInput value={peopleMax} onChange={e => setPeopleMax(e.target.value)} />\r\n        </div>\r\n        <div>\r\n          <label className={styles.paramtitle}>Bill:</label><span className={clsx(styles.paramtitle, \"p-0, m-0\")}>$</span> <MyInput value={bill} onChange={e => setBill(e.target.value)} />\r\n        </div>\r\n\r\n        <button className={clsx(\"btn-default btn-lg mt-4\", styles.mybtn)}>Update</button>\r\n      </form >\r\n    )\r\n\r\n}\r\n\r\nexport default TableForm;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}