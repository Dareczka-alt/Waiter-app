{"ast":null,"code":"import initialState from './initialState';\nimport { createStore, applyMiddleware, compose } from 'redux';\nimport thunk from 'redux-thunk';\n\n//selectors\nexport const getAllTables = state => state.tables;\nexport const getTableById = ({\n  tables\n}, tableId) => tables.find(table => table.id === tableId);\n\n//create action names\n\nconst createActionName = actionName => `app/tables/${actionName}`;\nconst UPDATE_TABLES = createActionName('UPDATE_TABLES');\n\n//action creators\nexport const updateTables = payload => ({\n  type: UPDATE_TABLES,\n  payload\n});\nexport const fetchTables = () => {\n  return dispatch => {\n    fetch('http://localhost:3131/api/tables').then(res => res.json()).then(tables => dispatch(updateTables(tables)));\n  };\n};\nexport const updateTableParams = newParams => {\n  return dispatch => {\n    const options = {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(newParams)\n    };\n    fetch('http://localhost:3131/tables', options).then(() => dispatch(updateTableParams(newParams)));\n  };\n};\nconst reducer = (state, action) => {\n  switch (action.type) {\n    case UPDATE_TABLES:\n      return [...action.payload];\n    default:\n      return state;\n  }\n};\nconst store = createStore(reducer, initialState, compose(applyMiddleware(thunk), window.__REDUX_DEVTOOLS_EXTENSION__ ? window.__REDUX_DEVTOOLS_EXTENSION__() : f => f));\nexport default store;","map":{"version":3,"names":["initialState","createStore","applyMiddleware","compose","thunk","getAllTables","state","tables","getTableById","tableId","find","table","id","createActionName","actionName","UPDATE_TABLES","updateTables","payload","type","fetchTables","dispatch","fetch","then","res","json","updateTableParams","newParams","options","method","headers","body","JSON","stringify","reducer","action","store","window","__REDUX_DEVTOOLS_EXTENSION__","f"],"sources":["C:/Users/asasa/OneDrive/Pulpit/waiter-app/src/redux/store.js"],"sourcesContent":["import initialState from './initialState'\r\nimport { createStore, applyMiddleware, compose } from 'redux';\r\nimport thunk from 'redux-thunk';\r\n\r\n//selectors\r\nexport const getAllTables = (state) => state.tables;\r\nexport const getTableById = ({ tables }, tableId) => tables.find(table => table.id === tableId)\r\n\r\n//create action names\r\n\r\nconst createActionName = actionName => `app/tables/${actionName}`;\r\nconst UPDATE_TABLES = createActionName('UPDATE_TABLES');\r\n\r\n//action creators\r\nexport const updateTables = payload => ({ type: UPDATE_TABLES, payload });\r\n\r\n\r\nexport const fetchTables = () => {\r\n  return (dispatch) => {\r\n    fetch('http://localhost:3131/api/tables')\r\n      .then(res => res.json())\r\n      .then(tables => dispatch(updateTables(tables)));\r\n  };\r\n};\r\n\r\nexport const updateTableParams = (newParams) => {\r\n  return (dispatch) => {\r\n    const options = {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type': 'application/json'\r\n      },\r\n      body: JSON.stringify(newParams),\r\n    };\r\n    fetch('http://localhost:3131/tables', options)\r\n      .then(() => dispatch(updateTableParams(newParams)))\r\n\r\n  }\r\n}\r\n\r\n\r\nconst reducer = (state, action) => {\r\n  switch (action.type) {\r\n    case UPDATE_TABLES:\r\n      return [...action.payload]\r\n\r\n    default:\r\n      return state;\r\n  }\r\n\r\n\r\n};\r\n\r\nconst store = createStore(\r\n  reducer,\r\n  initialState,\r\n  compose(\r\n    applyMiddleware(thunk),\r\n    window.__REDUX_DEVTOOLS_EXTENSION__ ? window.__REDUX_DEVTOOLS_EXTENSION__() : f => f\r\n  )\r\n);\r\n\r\nexport default store;"],"mappings":"AAAA,OAAOA,YAAY,MAAM,gBAAgB;AACzC,SAASC,WAAW,EAAEC,eAAe,EAAEC,OAAO,QAAQ,OAAO;AAC7D,OAAOC,KAAK,MAAM,aAAa;;AAE/B;AACA,OAAO,MAAMC,YAAY,GAAIC,KAAK,IAAKA,KAAK,CAACC,MAAM;AACnD,OAAO,MAAMC,YAAY,GAAGA,CAAC;EAAED;AAAO,CAAC,EAAEE,OAAO,KAAKF,MAAM,CAACG,IAAI,CAACC,KAAK,IAAIA,KAAK,CAACC,EAAE,KAAKH,OAAO,CAAC;;AAE/F;;AAEA,MAAMI,gBAAgB,GAAGC,UAAU,IAAK,cAAaA,UAAW,EAAC;AACjE,MAAMC,aAAa,GAAGF,gBAAgB,CAAC,eAAe,CAAC;;AAEvD;AACA,OAAO,MAAMG,YAAY,GAAGC,OAAO,KAAK;EAAEC,IAAI,EAAEH,aAAa;EAAEE;AAAQ,CAAC,CAAC;AAGzE,OAAO,MAAME,WAAW,GAAGA,CAAA,KAAM;EAC/B,OAAQC,QAAQ,IAAK;IACnBC,KAAK,CAAC,kCAAkC,CAAC,CACtCC,IAAI,CAACC,GAAG,IAAIA,GAAG,CAACC,IAAI,CAAC,CAAC,CAAC,CACvBF,IAAI,CAACf,MAAM,IAAIa,QAAQ,CAACJ,YAAY,CAACT,MAAM,CAAC,CAAC,CAAC;EACnD,CAAC;AACH,CAAC;AAED,OAAO,MAAMkB,iBAAiB,GAAIC,SAAS,IAAK;EAC9C,OAAQN,QAAQ,IAAK;IACnB,MAAMO,OAAO,GAAG;MACdC,MAAM,EAAE,MAAM;MACdC,OAAO,EAAE;QACP,cAAc,EAAE;MAClB,CAAC;MACDC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAACN,SAAS;IAChC,CAAC;IACDL,KAAK,CAAC,8BAA8B,EAAEM,OAAO,CAAC,CAC3CL,IAAI,CAAC,MAAMF,QAAQ,CAACK,iBAAiB,CAACC,SAAS,CAAC,CAAC,CAAC;EAEvD,CAAC;AACH,CAAC;AAGD,MAAMO,OAAO,GAAGA,CAAC3B,KAAK,EAAE4B,MAAM,KAAK;EACjC,QAAQA,MAAM,CAAChB,IAAI;IACjB,KAAKH,aAAa;MAChB,OAAO,CAAC,GAAGmB,MAAM,CAACjB,OAAO,CAAC;IAE5B;MACE,OAAOX,KAAK;EAChB;AAGF,CAAC;AAED,MAAM6B,KAAK,GAAGlC,WAAW,CACvBgC,OAAO,EACPjC,YAAY,EACZG,OAAO,CACLD,eAAe,CAACE,KAAK,CAAC,EACtBgC,MAAM,CAACC,4BAA4B,GAAGD,MAAM,CAACC,4BAA4B,CAAC,CAAC,GAAGC,CAAC,IAAIA,CACrF,CACF,CAAC;AAED,eAAeH,KAAK"},"metadata":{},"sourceType":"module","externalDependencies":[]}