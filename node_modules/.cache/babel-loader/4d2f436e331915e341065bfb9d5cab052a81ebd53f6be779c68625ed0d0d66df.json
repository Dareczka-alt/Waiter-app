{"ast":null,"code":"//selectors\nexport const getAllTables = state => state.tables;\n\n// actions\nconst createActionName = actionName => `app/tables/${actionName}`;\nconst UPDATE_TABLES = createActionName('UPDATE_TABLES');\nconst UPDATE_STATUS = createActionName('UPDATE_STATUS');\nconst UPDATE_PEOPLE_MAX = createActionName('UPDATE_PEOPLE_MAX');\nconst UPDATE_PEOPLE_SITTING = createActionName('UPDATE_PEOPLE_SITTING');\nconst UPDATE_BILL = createActionName('UPDATE_BILL');\nexport const updateTables = payload => ({\n  type: UPDATE_TABLES,\n  payload\n});\nexport const updateBill = payload => ({\n  type: UPDATE_BILL,\n  payload\n});\nexport const updatePeopleMax = payload => ({\n  type: UPDATE_PEOPLE_MAX,\n  payload\n});\nexport const updatePeopleSitting = payload => ({\n  type: UPDATE_PEOPLE_SITTING,\n  payload\n});\nexport const updateStatus = payload => ({\n  type: UPDATE_STATUS,\n  payload\n});\nexport const fetchTables = () => {\n  return dispatch => {\n    fetch('http://localhost:3131/api/tables').then(res => res.json()).then(tables => dispatch(updateTables(tables)));\n  };\n};\nexport const updateTableParams = () => {\n  const payload = {\n    peopleSitting: updatePeopleSitting(),\n    peopleMax: updatePeopleMax(),\n    bill: updateBill(),\n    status: updateStatus()\n  };\n  const options = {\n    method: 'PUT',\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify(payload)\n  };\n  fetch('http://localhost:3131/tables/:tableId', options);\n};\n\n// action creators\nconst tablesReducer = (statePart = [], action) => {\n  switch (action.type) {\n    case UPDATE_TABLES:\n      return [...action.payload];\n    case UPDATE_BILL:\n      return [...statePart, {\n        ...action.payload\n      }];\n    case UPDATE_PEOPLE_SITTING:\n      return [...statePart, {\n        ...action.payload\n      }];\n    case UPDATE_PEOPLE_MAX:\n      return [...statePart, {\n        ...action.payload\n      }];\n    case UPDATE_STATUS:\n      return [...statePart, {\n        ...action.payload\n      }];\n    default:\n      return statePart;\n  }\n  ;\n};\nexport default tablesReducer;","map":{"version":3,"names":["getAllTables","state","tables","createActionName","actionName","UPDATE_TABLES","UPDATE_STATUS","UPDATE_PEOPLE_MAX","UPDATE_PEOPLE_SITTING","UPDATE_BILL","updateTables","payload","type","updateBill","updatePeopleMax","updatePeopleSitting","updateStatus","fetchTables","dispatch","fetch","then","res","json","updateTableParams","peopleSitting","peopleMax","bill","status","options","method","headers","body","JSON","stringify","tablesReducer","statePart","action"],"sources":["C:/Users/asasa/OneDrive/Pulpit/waiter-app/src/redux/tablesRedux.js"],"sourcesContent":["//selectors\r\nexport const getAllTables = (state) => state.tables;\r\n\r\n\r\n// actions\r\nconst createActionName = actionName => `app/tables/${actionName}`;\r\nconst UPDATE_TABLES = createActionName('UPDATE_TABLES');\r\nconst UPDATE_STATUS = createActionName('UPDATE_STATUS');\r\nconst UPDATE_PEOPLE_MAX = createActionName('UPDATE_PEOPLE_MAX');\r\nconst UPDATE_PEOPLE_SITTING = createActionName('UPDATE_PEOPLE_SITTING');\r\nconst UPDATE_BILL = createActionName('UPDATE_BILL');\r\n\r\nexport const updateTables = payload => ({ type: UPDATE_TABLES, payload });\r\nexport const updateBill = payload => ({ type: UPDATE_BILL, payload });\r\nexport const updatePeopleMax = payload => ({ type: UPDATE_PEOPLE_MAX, payload });\r\nexport const updatePeopleSitting = payload => ({ type: UPDATE_PEOPLE_SITTING, payload });\r\nexport const updateStatus = payload => ({ type: UPDATE_STATUS, payload });\r\n\r\nexport const fetchTables = () => {\r\n  return (dispatch) => {\r\n    fetch('http://localhost:3131/api/tables')\r\n      .then(res => res.json())\r\n      .then(tables => dispatch(updateTables(tables)));\r\n  };\r\n};\r\n\r\nexport const updateTableParams = () => {\r\n  const payload = {\r\n    peopleSitting: updatePeopleSitting(),\r\n    peopleMax: updatePeopleMax(),\r\n    bill: updateBill(),\r\n    status: updateStatus(),\r\n  }\r\n\r\n  const options = {\r\n    method: 'PUT',\r\n    headers: {\r\n      'Content-Type': 'application/json'\r\n    },\r\n    body: JSON.stringify(payload),\r\n  };\r\n\r\n  fetch('http://localhost:3131/tables/:tableId', options)\r\n}\r\n\r\n// action creators\r\nconst tablesReducer = (statePart = [], action) => {\r\n  switch (action.type) {\r\n    case UPDATE_TABLES:\r\n      return [...action.payload];\r\n    case UPDATE_BILL:\r\n      return [...statePart, { ...action.payload }];\r\n    case UPDATE_PEOPLE_SITTING:\r\n      return [...statePart, { ...action.payload }];\r\n    case UPDATE_PEOPLE_MAX:\r\n      return [...statePart, { ...action.payload }];\r\n    case UPDATE_STATUS:\r\n      return [...statePart, { ...action.payload }];\r\n    default:\r\n      return statePart;\r\n  };\r\n};\r\nexport default tablesReducer;"],"mappings":"AAAA;AACA,OAAO,MAAMA,YAAY,GAAIC,KAAK,IAAKA,KAAK,CAACC,MAAM;;AAGnD;AACA,MAAMC,gBAAgB,GAAGC,UAAU,IAAK,cAAaA,UAAW,EAAC;AACjE,MAAMC,aAAa,GAAGF,gBAAgB,CAAC,eAAe,CAAC;AACvD,MAAMG,aAAa,GAAGH,gBAAgB,CAAC,eAAe,CAAC;AACvD,MAAMI,iBAAiB,GAAGJ,gBAAgB,CAAC,mBAAmB,CAAC;AAC/D,MAAMK,qBAAqB,GAAGL,gBAAgB,CAAC,uBAAuB,CAAC;AACvE,MAAMM,WAAW,GAAGN,gBAAgB,CAAC,aAAa,CAAC;AAEnD,OAAO,MAAMO,YAAY,GAAGC,OAAO,KAAK;EAAEC,IAAI,EAAEP,aAAa;EAAEM;AAAQ,CAAC,CAAC;AACzE,OAAO,MAAME,UAAU,GAAGF,OAAO,KAAK;EAAEC,IAAI,EAAEH,WAAW;EAAEE;AAAQ,CAAC,CAAC;AACrE,OAAO,MAAMG,eAAe,GAAGH,OAAO,KAAK;EAAEC,IAAI,EAAEL,iBAAiB;EAAEI;AAAQ,CAAC,CAAC;AAChF,OAAO,MAAMI,mBAAmB,GAAGJ,OAAO,KAAK;EAAEC,IAAI,EAAEJ,qBAAqB;EAAEG;AAAQ,CAAC,CAAC;AACxF,OAAO,MAAMK,YAAY,GAAGL,OAAO,KAAK;EAAEC,IAAI,EAAEN,aAAa;EAAEK;AAAQ,CAAC,CAAC;AAEzE,OAAO,MAAMM,WAAW,GAAGA,CAAA,KAAM;EAC/B,OAAQC,QAAQ,IAAK;IACnBC,KAAK,CAAC,kCAAkC,CAAC,CACtCC,IAAI,CAACC,GAAG,IAAIA,GAAG,CAACC,IAAI,CAAC,CAAC,CAAC,CACvBF,IAAI,CAAClB,MAAM,IAAIgB,QAAQ,CAACR,YAAY,CAACR,MAAM,CAAC,CAAC,CAAC;EACnD,CAAC;AACH,CAAC;AAED,OAAO,MAAMqB,iBAAiB,GAAGA,CAAA,KAAM;EACrC,MAAMZ,OAAO,GAAG;IACda,aAAa,EAAET,mBAAmB,CAAC,CAAC;IACpCU,SAAS,EAAEX,eAAe,CAAC,CAAC;IAC5BY,IAAI,EAAEb,UAAU,CAAC,CAAC;IAClBc,MAAM,EAAEX,YAAY,CAAC;EACvB,CAAC;EAED,MAAMY,OAAO,GAAG;IACdC,MAAM,EAAE,KAAK;IACbC,OAAO,EAAE;MACP,cAAc,EAAE;IAClB,CAAC;IACDC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAACtB,OAAO;EAC9B,CAAC;EAEDQ,KAAK,CAAC,uCAAuC,EAAES,OAAO,CAAC;AACzD,CAAC;;AAED;AACA,MAAMM,aAAa,GAAGA,CAACC,SAAS,GAAG,EAAE,EAAEC,MAAM,KAAK;EAChD,QAAQA,MAAM,CAACxB,IAAI;IACjB,KAAKP,aAAa;MAChB,OAAO,CAAC,GAAG+B,MAAM,CAACzB,OAAO,CAAC;IAC5B,KAAKF,WAAW;MACd,OAAO,CAAC,GAAG0B,SAAS,EAAE;QAAE,GAAGC,MAAM,CAACzB;MAAQ,CAAC,CAAC;IAC9C,KAAKH,qBAAqB;MACxB,OAAO,CAAC,GAAG2B,SAAS,EAAE;QAAE,GAAGC,MAAM,CAACzB;MAAQ,CAAC,CAAC;IAC9C,KAAKJ,iBAAiB;MACpB,OAAO,CAAC,GAAG4B,SAAS,EAAE;QAAE,GAAGC,MAAM,CAACzB;MAAQ,CAAC,CAAC;IAC9C,KAAKL,aAAa;MAChB,OAAO,CAAC,GAAG6B,SAAS,EAAE;QAAE,GAAGC,MAAM,CAACzB;MAAQ,CAAC,CAAC;IAC9C;MACE,OAAOwB,SAAS;EACpB;EAAC;AACH,CAAC;AACD,eAAeD,aAAa"},"metadata":{},"sourceType":"module","externalDependencies":[]}