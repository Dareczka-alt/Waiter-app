{"ast":null,"code":"import _toConsumableArray from\"C:/Users/asasa/OneDrive/Pulpit/waiter-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _objectSpread from\"C:/Users/asasa/OneDrive/Pulpit/waiter-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import{API_URL}from'../config';//selectors\nexport var getAllTables=function getAllTables(state){return state.tables;};export var getTableById=function getTableById(_ref,tableId){var tables=_ref.tables;return tables.find(function(table){return table.id===tableId;});};// actions\nvar createActionName=function createActionName(actionName){return\"app/tables/\".concat(actionName);};var UPDATE_TABLES=createActionName('UPDATE_TABLES');var UPDATE_TABLE_PARAMS=createActionName('UPDATE_TABLE_PARAMS');export var updateTables=function updateTables(payload){return{type:UPDATE_TABLES,payload:payload};};export var updateTableParams=function updateTableParams(payload){return{type:UPDATE_TABLE_PARAMS,payload:payload};};export var fetchTables=function fetchTables(){return function(dispatch){fetch(\"\".concat(API_URL,\"/tables\")).then(function(res){return res.json();}).then(function(tables){return dispatch(updateTables(tables));});};};export var requestTableParams=function requestTableParams(newParams){return function(dispatch){var options={method:'PUT',headers:{'Content-Type':'application/json'},body:JSON.stringify(_objectSpread({},newParams))};fetch(\"\".concat(API_URL,\"/tables/\").concat(newParams.id),options).then(function(){return dispatch(updateTableParams(newParams));});};};// action creators\nvar tablesReducer=function tablesReducer(){var statePart=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];var action=arguments.length>1?arguments[1]:undefined;switch(action.type){case UPDATE_TABLES:return _toConsumableArray(action.payload);case UPDATE_TABLE_PARAMS:return statePart.map(function(table){return table.id===action.payload.id?_objectSpread(_objectSpread({},table),action.payload):table;});;default:return statePart;};};export default tablesReducer;","map":{"version":3,"names":["API_URL","getAllTables","state","tables","getTableById","_ref","tableId","find","table","id","createActionName","actionName","concat","UPDATE_TABLES","UPDATE_TABLE_PARAMS","updateTables","payload","type","updateTableParams","fetchTables","dispatch","fetch","then","res","json","requestTableParams","newParams","options","method","headers","body","JSON","stringify","_objectSpread","tablesReducer","statePart","arguments","length","undefined","action","_toConsumableArray","map"],"sources":["C:/Users/asasa/OneDrive/Pulpit/waiter-app/src/redux/tablesRedux.js"],"sourcesContent":["import { API_URL } from '../config';\r\n\r\n//selectors\r\nexport const getAllTables = (state) => state.tables;\r\nexport const getTableById = ({ tables }, tableId) => tables.find(table => table.id === tableId);\r\n\r\n\r\n// actions\r\nconst createActionName = actionName => `app/tables/${actionName}`;\r\nconst UPDATE_TABLES = createActionName('UPDATE_TABLES');\r\nconst UPDATE_TABLE_PARAMS = createActionName('UPDATE_TABLE_PARAMS');\r\n\r\n\r\n\r\n\r\nexport const updateTables = payload => ({ type: UPDATE_TABLES, payload });\r\nexport const updateTableParams = payload => ({ type: UPDATE_TABLE_PARAMS, payload });\r\n\r\n\r\nexport const fetchTables = () => {\r\n  return (dispatch) => {\r\n    fetch(`${API_URL}/tables`)\r\n      .then(res => res.json())\r\n      .then(tables => dispatch(updateTables(tables)));\r\n  };\r\n};\r\n\r\nexport const requestTableParams = (newParams) => {\r\n  return (dispatch) => {\r\n    const options = {\r\n      method: 'PUT',\r\n      headers: {\r\n        'Content-Type': 'application/json'\r\n      },\r\n      body: JSON.stringify({ ...newParams }),\r\n    };\r\n\r\n    fetch(`${API_URL}/tables/${newParams.id}`, options)\r\n      .then(() => dispatch(updateTableParams(newParams)))\r\n  }\r\n}\r\n\r\n\r\n\r\n// action creators\r\nconst tablesReducer = (statePart = [], action) => {\r\n  switch (action.type) {\r\n    case UPDATE_TABLES:\r\n      return [...action.payload];\r\n    case UPDATE_TABLE_PARAMS:\r\n      return statePart.map((table) => table.id === action.payload.id ? { ...table, ...action.payload } : table);\r\n      ;\r\n\r\n    default:\r\n      return statePart;\r\n  };\r\n};\r\nexport default tablesReducer;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}